<html lang="en">
<head>
    <title>WebRTC Simple Chat Example</title>
    <link href="chat.css" rel="stylesheet">
</head>
<body>

<section>
    <header>WebRTC Simple Chat Example</header>
    <p>
        This is an example of peer to peer communication between two browsers using RTCPeerConnection. This example
        tries to be as simple as possible to understand how RTCPeerConnection works.<br>

        Join a chat or create a chat and send the link to someone to chat with them.<br>

        Your connection information (such as your IP address) will be shared with the other peer to establish the
        connection.<br>

        Messages are not encrypted.<br>

        Only works one to one.<br>

        Only works in local network or with public IP, if you are behind CG-NAT it will not work.<br>

        You can find the code on <a href="https://github.com/Gonzalocl/RTCPeerConnection-example">GitHub</a>.
    </p>
</section>

<section hidden id="join-section">
    <p>Create new chat.</p>
    <button onclick="createChatClick()">Create Chat</button>

    <p>Or join an existing one, paste chat id or link.</p>
    <input id="join-input">
    <button onclick="joinChatClick()">Join Chat</button>
</section>

<section hidden id="waiting-section">
    <p>Send this link to someone to chat with them.</p>
    <input id="join-link" readonly>
    <button onclick="copyClick()">Copy</button>
    <p>Waiting other to connect.</p>
    <p id="waiting-text"></p>
    <button onclick="refreshClick()">Refresh Now</button>
</section>

<section hidden id="connecting-section">
    <p id="connecting-text">Connecting.</p>
</section>

<section hidden id="chat-section">
    <div id="chat-history">
    </div>
    <div>
        <input id="message-input" onkeydown="messageKeyDown(event)" placeholder="Write a message">
        <button id="message-button" onclick="sendMessageClick()">Send</button>
    </div>
</section>

<script src="chat-signaling.js"></script>
<script src="chat-rtc.js"></script>
<script src="chat.js"></script>
</body>
</html>
